# Data processing pipeline recipes

# Default recipe - show available commands
help:
    @just --list

# Run the data processing pipeline
run *ARGS:
    @echo "Running data processing pipeline..."
    uv run python -m src.main {{ARGS}}

# Run pipeline tests
test:
    @echo "Running data processing tests..."
    uv run pytest tests/ -v
    @echo "Data processing tests passed"

# Run tests with coverage
test-coverage:
    @echo "Running tests with coverage..."
    uv run pytest tests/ --cov=src --cov-report=term-missing
    @echo "Coverage report complete"

# Lint pipeline code
lint:
    @echo "Linting data processing pipeline..."
    uv run ruff check .
    uv run black --check .
    @echo "Data processing pipeline linted"

# Format pipeline code
format:
    @echo "Formatting data processing pipeline..."
    uv run black .
    uv run ruff check --fix .
    @echo "Data processing pipeline formatted"
