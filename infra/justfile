# Infrastructure management recipes

# Bootstrap stack
[group('stacks')]
mod bootstrap

# Global stack
[group('stacks')]
mod global

# Services stack
[group('stacks')]
mod services

# Default recipe - show available commands
help:
  just --list

# Start LocalStack
[group('localstack')]
localstack-start:
  docker compose up -d

# Stop LocalStack
[group('localstack')]
localstack-stop:
  docker compose down

# Status LocalStack
[group('localstack')]
localstack-status:
  docker compose ps

# Clean all modules
[group('clean')]
clean-all:
  #!/usr/bin/env bash
  echo "Cleaning all modules..."
  for module in $(ls); do
    if [ -d "$module" ]; then
      (cd "$module" && just clean)
    fi
  done
